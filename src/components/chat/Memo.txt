//커뮤니케이션 플랫폼: 프리랜서와 클라이언트 간의 메시지, 미팅, 파일 공유를 지원
//----------------------------------------------------------------------------------------//
# help functions
1. is_room_participant
select exists (
  select 1
  from room_participants rp
  where rp.room_id = is_room_participant.room_id
  and rp.user_id = is_room_participant.user_id
)
-> rp.room_id = is_room_participant.room_id and rp.user_id = is_room_participant.user_id 조건 불충족시 return false

2. insert_creator_into_room (trigger f)
begin
  insert into room_participants(room_id, user_id)
  values(new.id, auth.uid());

  return new;
end;

//----------------------------------------------------------------------------------------//
# Queries
1. Check if a user is a participant in a room


//----------------------------------------------------------------------------------------//
#Policy
1. rooms
2. room_participants

//----------------------------------------------------------------------------------------//
#순서
1. rooms 테이블 -> room_participants 테이블 세팅 -> help function -> 쿼리로 f 테스트 -> rooms policy, room_participants policy
2. trigger f 생성 (room_participants 테이블에 room_id, user_id 삽입) -> trigger 생성 (on_room_created) : 실행 순서는 트리거 먼저


